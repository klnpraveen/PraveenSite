!function(t){function e(t){if("string"==typeof t){var e=t.indexOf("_");-1!=e&&(t=t.substr(e+1))}return t}function i(i){i.preventDefault();var r=e(t(this).attr("data-id")),n=o[r];t(this).off(),n.prev.off(),t.fn.als("next",r)}function n(i){i.preventDefault();var r=e(t(this).attr("data-id")),n=o[r];t(this).off(),n.next.off(),t.fn.als("prev",r)}var o=[],s=0,a={init:function(e){this.each(function(){var a={visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4e3,speed:600,easing:"swing",direction:"left",start_from:0},c=t(this),m=c.data("als"),l=t(),u=t(),p=t(),f=t(),h=t(),v=t(),d=0,_=0,g=0,k=0,w=0,b=0,x=0,q=0,y=0,H=0,W=0,T=0,D={},z=100,E=300;switch(l=t.extend(a,e),"no"==l.circular&&"yes"==l.autoscroll&&(l.circular="yes"),("linear"!=l.easing||"swing"!=l.easing)&&(l.easing="swing"),c.attr("id")&&""!=c.attr("id")||c.attr("id","als-container_"+s),c.attr("data-id","als-container_"+s),f=c.find(".als-viewport").attr("id","als-viewport_"+s),p=c.find(".als-wrapper").attr("id","als-wrapper_"+s),u=c.find(".als-item"),d=u.size(),l.visible_items>d&&(l.visible_items=d-1),l.scrolling_items>l.visible_items&&(l.scrolling_items=l.visible_items-1),l.start_from>d-l.visible_items&&(l.start_from=0),h=c.find(".als-prev").attr("data-id","als-prev_"+s),v=c.find(".als-next").attr("data-id","als-next_"+s),l.orientation){case"horizontal":default:if(u.each(function(e){t(this).attr("id","als-item_"+s+"_"+e),g+=t(this).outerWidth(!0),t(this).outerHeight(!0)>x&&(x=t(this).outerHeight(!0)),y<l.visible_items&&(0==l.start_from?(_+=t(this).outerWidth(!0),y++):e>=l.start_from&&(_+=t(this).outerWidth(!0),y++)),0!=l.start_from&&(H<l.start_from&&(b+=t(this).outerWidth(!0),H++),W=l.start_from)}),p.css("width",g),u.css("left",-b),f.css("width",_),p.css("height",x),f.css("height",x),"yes"==l.circular&&0!=l.start_from)for(r=0;r<l.start_from;r++){var I=u.last().position(),j=I.left+u.last().outerWidth(!0);u.eq(r).css("left",j)}break;case"vertical":if(u.each(function(e){t(this).attr("id","als-item_"+s+"_"+e),w+=t(this).outerHeight(!0),t(this).outerWidth(!0)>q&&(q=t(this).outerWidth(!0)),y<l.visible_items&&(0==l.start_from?(k+=t(this).outerHeight(!0),y++):e>=l.start_from&&(k+=t(this).outerHeight(!0),y++)),0!=l.start_from&&(H<l.start_from&&(b+=t(this).outerHeight(!0),H++),W=l.start_from)}),p.css("height",w),u.css("top",-b),f.css("height",k),p.css("width",q),f.css("width",q),"yes"==l.circular&&0!=l.start_from)for(r=0;r<l.start_from;r++){var I=u.last().position(),Q=I.top+u.last().outerHeight(!0);u.eq(r).css("top",Q)}}return"no"==l.circular&&(0==l.start_from&&h.css("display","none"),l.visible_items+l.start_from==d&&v.css("display","none")),f.on("touchstart",function(t){if(t.preventDefault(),void 0==t.originalEvent.touches)var e=t;else var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];D.ox=e.pageX,D.oy=e.pageY,D.startTime=(new Date).getTime()}),f.on("touchmove",function(t){t.preventDefault()}),f.on("touchend",function(t){if(t.preventDefault(),void 0==t.originalEvent.touches)var e=t;else var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];D.dx=e.pageX-D.ox,D.dy=e.pageY-D.oy,D.endTime=(new Date).getTime()-D.startTime,"horizontal"==l.orientation?D.dx<-z&&D.endTime<E?v.trigger("click"):D.dx>z&&D.endTime<E&&h.trigger("click"):D.dy<-z&&D.endTime<E?v.trigger("click"):D.dy>z&&D.endTime<E&&h.trigger("click")}),c.data("als",{container:c,instance:s,options:l,viewport:f,wrapper:p,prev:h,next:v,item:u,num_items:d,wrapper_width:g,viewport_width:_,wrapper_height:w,viewport_height:k,current:W,timer:T}),m=c.data("als"),o[s]=m,v.on("click touchstart touchend",i),h.on("click touchstart touchend",n),"yes"==l.autoscroll?(t.fn.als("start",s),p.hover(function(){t.fn.als("stop",t(this).attr("id"))},function(){t.fn.als("start",t(this).attr("id"))})):"no"==l.autoscroll&&t.fn.als("stop",s),s++,o})},next:function(t){t=e(t);var r=o[t],s=0,a=0;switch(r.options.orientation){case"horizontal":default:var c=0,m=0;switch(r.options.circular){case"no":default:for(s=r.current;s<r.current+r.options.scrolling_items;s++)c+=r.item.eq(s).outerWidth(!0);for(r.current+=r.options.scrolling_items,a=r.current;a<r.current+r.options.visible_items;a++)m+=r.item.eq(a).outerWidth(!0);r.viewport.animate({width:m},r.options.speed,r.options.easing),r.item.animate({left:"-="+c},r.options.speed,r.options.easing),r.item.promise().done(function(){r.next.on("click",i),r.prev.on("click",n)}),r.current>0&&r.prev.show(),r.current+r.options.visible_items>=r.num_items&&r.next.hide();break;case"yes":var l=0,u=[];for(s=r.current;s<r.current+r.options.scrolling_items;s++){var p=s;s>=r.num_items&&(p=s-r.num_items),c+=r.item.eq(p).outerWidth(!0),u[l]=p,l++}for(r.current+=r.options.scrolling_items,r.current>=r.num_items&&(r.current-=r.num_items),a=r.current;a<r.current+r.options.visible_items;a++){var f=a;a>=r.num_items&&(f=a-r.num_items),m+=r.item.eq(f).outerWidth(!0)}r.viewport.animate({width:m},r.options.speed,r.options.easing),r.item.animate({left:"-="+c},r.options.speed,r.options.easing),r.item.promise().done(function(){var t=r.item.last().position(),e=t.left+r.item.last().outerWidth(!0);for(k5=0;k5<u.length;k5++){if(0==u[k5])var t=r.item.last().position(),e=t.left+r.item.last().outerWidth(!0);r.item.eq(u[k5]).css("left",e)}r.next.on("click",i),r.prev.on("click",n)})}break;case"vertical":var h=0,v=0;switch(r.options.circular){case"no":default:for(s=r.current;s<r.current+r.options.scrolling_items;s++)h+=r.item.eq(s).outerHeight(!0);for(r.current+=r.options.scrolling_items,a=r.current;a<r.current+r.options.visible_items;a++)v+=r.item.eq(a).outerHeight(!0);r.viewport.animate({height:v},r.options.speed,r.options.easing),r.item.animate({top:"-="+h},r.options.speed,r.options.easing),r.item.promise().done(function(){r.next.on("click",i),r.prev.on("click",n)}),r.current>0&&r.prev.show(),r.current+r.options.visible_items>=r.num_items&&r.next.hide();break;case"yes":var l=0,u=[];for(s=r.current;s<r.current+r.options.scrolling_items;s++){var p=s;s>=r.num_items&&(p=s-r.num_items),h+=r.item.eq(p).outerHeight(!0),u[l]=p,l++}for(r.current+=r.options.scrolling_items,r.current>=r.num_items&&(r.current-=r.num_items),a=r.current;a<r.current+r.options.visible_items;a++){var f=a;a>=r.num_items&&(f=a-r.num_items),v+=r.item.eq(f).outerHeight(!0)}r.viewport.animate({height:v}),r.item.animate({top:"-="+h}),r.item.promise().done(function(){var t=r.item.last().position(),e=t.top+r.item.last().outerHeight(!0);for(k5=0;k5<u.length;k5++){if(0==u[k5])var t=r.item.last().position(),e=t.top+r.item.last().outerHeight(!0);r.item.eq(u[k5]).css("top",e)}r.next.on("click",i),r.prev.on("click",n)})}}return o[t]=r,o},prev:function(t){t=e(t);var r=o[t],s=0,a=0;switch(r.options.orientation){case"horizontal":default:var c=0,m=0;switch(r.options.circular){case"no":default:for(r.current-=r.options.scrolling_items,s=r.current;s<r.current+r.options.scrolling_items;s++)c+=r.item.eq(s).outerWidth(!0);for(a=r.current;a<r.current+r.options.visible_items;a++)m+=r.item.eq(a).outerWidth(!0);r.viewport.animate({width:m}),r.item.animate({left:"+="+c},r.options.speed,r.options.easing),r.item.promise().done(function(){r.prev.on("click",n),r.next.on("click",i)}),r.current<=0&&r.prev.hide(),r.current+r.options.visible_items<r.num_items&&r.next.show();break;case"yes":var l=0,u=[];for(r.current-=r.options.scrolling_items,r.current<0&&(r.current+=r.num_items),s=r.current;s<r.current+r.options.scrolling_items;s++){var p=s;s>=r.num_items&&(p=s-r.num_items),c+=r.item.eq(p).outerWidth(!0),u[l]=p,l++}for(a=r.current;a<r.current+r.options.visible_items;a++){var f=a;a>=r.num_items&&(f=a-r.num_items),m+=r.item.eq(f).outerWidth(!0)}var h=r.item.first().position(),v=h.left-r.wrapper_width;for(k5=0;k5<u.length;k5++)if(r.item.eq(u[k5]).css("left",v),0==u[k5]){var d=r.item.eq(0).position(),_=d.left-r.wrapper_width;for(k6=0;k5>k6;k6++)r.item.eq(u[k6]).css("left",_)}setTimeout(function(){r.viewport.animate({width:m}),r.item.animate({left:"+="+c},r.options.speed,r.options.easing),r.item.promise().done(function(){r.prev.on("click",n),r.next.on("click",i)})},200)}break;case"vertical":var g=0,k=0;switch(r.options.circular){case"no":default:for(r.current-=r.options.scrolling_items,s=r.current;s<r.current+r.options.scrolling_items;s++)g+=r.item.eq(s).outerHeight(!0);for(a=r.current;a<r.current+r.options.visible_items;a++)k+=r.item.eq(a).outerHeight(!0);r.viewport.animate({height:k}),r.item.animate({top:"+="+g},r.options.speed,r.options.easing),r.item.promise().done(function(){r.prev.on("click",n),r.next.on("click",i)}),r.current<=0&&r.prev.hide(),r.current+r.options.visible_items<r.num_items&&r.next.show();break;case"yes":var l=0,u=[];for(r.current-=r.options.scrolling_items,r.current<0&&(r.current+=r.num_items),s=r.current;s<r.current+r.options.scrolling_items;s++){var p=s;s>=r.num_items&&(p=s-r.num_items),g+=r.item.eq(p).outerHeight(!0),u[l]=p,l++}for(a=r.current;a<r.current+r.options.visible_items;a++){var f=a;a>=r.num_items&&(f=a-r.num_items),k+=r.item.eq(f).outerHeight(!0)}var h=r.item.first().position(),w=h.top-r.wrapper_height;for(k5=0;k5<u.length;k5++)if(r.item.eq(u[k5]).css("top",w),0==u[k5]){var d=r.item.eq(0).position(),b=d.top-r.wrapper_height;for(k6=0;k5>k6;k6++)r.item.eq(u[k6]).css("top",b)}setTimeout(function(){r.viewport.animate({height:k},r.options.speed,r.options.easing),r.item.animate({top:"+="+g},r.options.speed,r.options.easing),r.item.promise().done(function(){r.prev.on("click",n),r.next.on("click",i)})},200)}}return o[t]=r,o},start:function(i){i=e(i);var r=o[i];switch(0!=r.timer&&clearInterval(r.timer),r.options.direction){case"left":case"up":default:r.timer=setInterval(function(){r.next.off(),r.prev.off(),t.fn.als("next",i)},r.options.interval);break;case"right":case"down":r.timer=setInterval(function(){r.prev.off(),r.next.off(),t.fn.als("prev",i)},r.options.interval)}return o[i]=r,o},stop:function(t){t=e(t);var i=o[t];return clearInterval(i.timer),o[t]=i,o},destroy:function(){id=e(t(this).attr("data-id"));var i=o[id];i.prev.off(),i.next.off(),t.fn.als("stop",id),t.removeData(i,this.name),this.removeClass(this.name),this.unbind(),this.element=null}};t.fn.als=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.als"),void 0):a.init.apply(this,arguments)}}(jQuery);