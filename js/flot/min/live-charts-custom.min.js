function dataM(a){for(var t=[],e=0;360>=e;e+=10){var r=(a+e)%360;t.push({x:e,y:Math.sin(Math.PI*r/180).toFixed(4),z:Math.cos(Math.PI*r/180).toFixed(4)})}return t}function update(){nReloads++,graph.setData(dataM(5*nReloads)),$("#reloadStatus").text(nReloads+" Reloads")}var nReloads=0,graph=Morris.Line({element:"liveGraph",dataM:dataM(0),xkey:"x",ykeys:["y","z"],labels:["sin()","cos()"],parseTime:!1,ymin:-1,ymax:1,hideHover:!0});setInterval(update,1e3);var chart,data=[{key:"Stream 1",color:"orange",values:[{x:1,y:1}]}];nv.addGraph(function(){return chart=nv.models.historicalBarChart(),chart.x(function(a){return a.x}),chart.xAxis.tickFormat(d3.format(",.1f")).axisLabel("Time"),chart.yAxis.axisLabel("Random Number").tickFormat(d3.format(",.4f")),chart.showXAxis(!0).showYAxis(!0).rightAlignYAxis(!0).margin({right:90}),d3.select("#nvdLive svg").datum(data).transition().duration(500).call(chart),nv.utils.windowResize(chart.update),chart});var x=2,run=!0;setInterval(function(){if(run){var a=Math.random()>.95?10:1;data[0].values.push({x:x,y:Math.random()*a}),data[0].values.length>70&&data[0].values.shift(),x++,chart.update()}},500),d3.select("#start-stop-button").on("click",function(){$(this).hasClass("btn-danger")?$(this).removeClass("btn-danger").addClass("btn-success").html("Start Live Stream"):$(this).removeClass("btn-success").addClass("btn-danger").html("Stop Live Stream"),run=!run}),$(function(){function a(){for(e.length>0&&(e=e.slice(1));e.length<r;){var a=e.length>0?e[e.length-1]:50,t=a+10*Math.random()-5;0>t?t=0:t>100&&(t=100),e.push(t)}for(var s=[],n=0;n<e.length;++n)s.push([n,e[n]]);return s}function t(){n.setData([a()]),n.draw(),setTimeout(t,s)}var e=[],r=300,s=30;$("#updateInterval").val(s).change(function(){var a=$(this).val();a&&!isNaN(+a)&&(s=+a,1>s?s=1:s>2e3&&(s=2e3),$(this).val(""+s))});var n=$.plot("#placeholder",[a()],{series:{shadowSize:0},yaxis:{min:0,max:100},xaxis:{show:!1}});t()});